<div class="modal-header">
  <h4 class="modal-title">Criar Novo Ingresso</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>
<div class="modal-body">
  <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="eventName" class="form-label">Nome do Evento</label>
      <input type="text" class="form-control" id="eventName" formControlName="eventName">
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Descrição</label>
      <textarea class="form-control" id="description" formControlName="description"></textarea>
    </div>

    <div class="mb-3">
      <label for="category" class="form-label">Categoria</label>
      <input type="text" class="form-control" id="category" formControlName="category">
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">Localização</label>
      <input type="text" class="form-control" id="location" formControlName="location">
    </div>

    <div class="mb-3">
      <label for="venue" class="form-label">Local</label>
      <input type="text" class="form-control" id="venue" formControlName="venue">
    </div>

    <div class="mb-3">
      <label for="eventDate" class="form-label">Data do Evento</label>
      <input type="date" class="form-control" id="eventDate" formControlName="eventDate">
    </div>

    <div class="mb-3">
      <label for="price" class="form-label">Preço</label>
      <input type="number" class="form-control" id="price" formControlName="price">
    </div>

    <div class="mb-3">
      <label for="quantity" class="form-label">Quantidade</label>
      <input type="number" class="form-control" id="quantity" formControlName="quantity">
    </div>

    <div class="mb-3">
      <label for="ticketImage" class="form-label">Imagem do Ingresso</label>
      <input type="file" class="form-control" id="ticketImage" accept="image/*" (change)="onImageSelected($event)">
      <small class="text-muted">Selecione uma imagem para o seu ingresso</small>
    </div>

    <div *ngIf="imagePreviewUrl" class="mb-3">
      <img [src]="imagePreviewUrl" class="img-thumbnail" style="max-width: 200px">
    </div>

    <div class="mb-3">
      <label for="file" class="form-label">Arquivo do Ingresso *</label>
      <input type="file" class="form-control" id="file" (change)="onFileSelected($event)">
      <small class="text-muted">O ingresso ficará com status pendente até o upload do arquivo</small>
    </div>

    <div *ngIf="previewUrl" class="mb-3">
      <img [src]="previewUrl" class="img-thumbnail" style="max-width: 200px">
    </div>

    <div class="alert alert-warning" *ngIf="!selectedFile">
      <i class="bi bi-exclamation-triangle"></i>
      O ingresso será salvo como pendente até que um arquivo seja enviado.
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Cancelar</button>
  <button type="button" class="btn btn-primary" (click)="onSubmit()">Salvar</button>
</div>